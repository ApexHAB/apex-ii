Old code for reference which will probably be useful

